
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Monitoring Metrics &#8212; Data Driven Development</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Accessing and Analyzing Metrics" href="accessing_metrics.html" />
    <link rel="prev" title="Tooling" href="tooling.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Data Driven Development</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../README.html">
   Data Driven Development - D^3
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Data Sources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../data-sources/prometheus.html">
   Prometheus
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Data Presentation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../data-presentation/grafana.html">
   Grafana Dashboards
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../data-presentation/superset.html">
   Superset
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Monitoring Applications Guide
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Monitoring Applications
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="README.html">
   Kebechet
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="tooling.html">
     Tooling
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Monitoring Metrics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="accessing_metrics.html">
     Accessing and Analyzing Metrics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="alerting.html">
     Alerting
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/examples/kebechet/metrics.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/AICoE/data-driven-development"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/AICoE/data-driven-development/issues/new?title=Issue%20on%20page%20%2Fexamples/kebechet/metrics.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Monitoring Metrics
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recommended-metrics-kebechet">
   Recommended Metrics: Kebechet
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="monitoring-metrics">
<h1>Monitoring Metrics<a class="headerlink" href="#monitoring-metrics" title="Permalink to this headline">¶</a></h1>
<p>Based on the type of application, we can define relevant metrics that help developers, product owners, users etc gain more insights regarding the performance, operation, usage of the application. Metrics can be categorized based on the different personas we would like to target such as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Product</span> <span class="pre">Owner</span></code> - Project’s key stakeholder who communicate the vision of the application to the team/stakeholders and ensure the feasibility of the application with respect to business objectives</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">Manager</span></code> - Supervisors of other teams who would like to adopt the application for their use-cases and oversee the successful delivery of the application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Technical</span> <span class="pre">Architect</span></code> -  Provides technical feasibility of requirements, advise on technology choices and manage the technical roadmap</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Operations</span></code> - Primarily focused on application management, application maintenance and instrumental in automation of application development processes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Analyst</span></code> - Work with both developers and users to assess the product, utilizing data and user feedback to suggest improvements. Responsible for analyzing metrics to continually improve the application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Users</span></code> - Users interacting with the application (who we are building the product for) and this can probably have sub categories for the different type of users</p></li>
</ul>
</div>
<div class="section" id="recommended-metrics-kebechet">
<h1>Recommended Metrics: Kebechet<a class="headerlink" href="#recommended-metrics-kebechet" title="Permalink to this headline">¶</a></h1>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Metric</strong></p></th>
<th class="head"><p><strong>Metric Definition</strong></p></th>
<th class="head"><p><strong>Metric Calculation</strong></p></th>
<th class="head"><p><strong>Targeted Persona</strong></p></th>
<th class="head"><p><strong>Data Source</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Number of active users</p></td>
<td><p>Number of repos where Kebechet is active</p></td>
<td><p>sum(KebechetGithubAppInstallations Table slug with is_active=True)</p></td>
<td><p>Product Owner</p></td>
<td><p>PostgreSQL database (exposed by Thoth metrics-exporter)</p></td>
</tr>
<tr class="row-odd"><td><p>Number of new active users (daily/weekly/monthly)</p></td>
<td><p>Number of new repos where Kebechet is active</p></td>
<td><p></p></td>
<td><p>Product Owner</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Number of stacks maintained</p></td>
<td><p>Number of software stacks maintained by Kebechet</p></td>
<td><p>sum(KebechetGithubAppInstallations Table slug with is_active=True, distinct=True)</p></td>
<td><p>Product Owner</p></td>
<td><p>Thoth database (exposed by metrics-exporter)</p></td>
</tr>
<tr class="row-odd"><td><p>Number of users per manager (thoth adviser)</p></td>
<td><p>Total number of users per manager (thoth adviser)</p></td>
<td><p>sum(KebechetGithubAppInstallations Table slug with is_active=True, distinct=True, for KebechetGithubAppInstallations.thoth_advise_manager)</p></td>
<td><p>Product Owner</p></td>
<td><p>Thoth database (exposed by metrics-exporter)</p></td>
</tr>
<tr class="row-even"><td><p>Number of PR opened by Kebechet per manager (thoth adviser)</p></td>
<td><p>Total number of PR opened by Kebechet</p></td>
<td><p></p></td>
<td><p>Product Owner</p></td>
<td><p>Github (collected by mi)</p></td>
</tr>
<tr class="row-odd"><td><p>Number of PR merged by Kebechet per manager (thoth adviser)</p></td>
<td><p>Total number of PR opened by Kebechet merged</p></td>
<td><p></p></td>
<td><p>Product Owner</p></td>
<td><p>Github (collected by mi)</p></td>
</tr>
<tr class="row-even"><td><p>Successful Kebechet service delivered percentage (thoth adviser)</p></td>
<td><p></p></td>
<td><p>(Number of PR merged by Kebechet ÷ Number of PR opened by Kebechet) * 100</p></td>
<td><p>Product Owner</p></td>
<td><p>Ceph (processed by mi)</p></td>
</tr>
<tr class="row-odd"><td><p>Average time to merge Kebechet PRs (thoth adviser)</p></td>
<td><p>Time taken to merge a PR opened by Kebechet</p></td>
<td><p></p></td>
<td><p>Product Owner</p></td>
<td><p>Ceph (processed by mi)</p></td>
</tr>
<tr class="row-even"><td><p>Number of PR closed/rejected by Kebechet per manager (thoth adviser)</p></td>
<td><p>Total number of PR opened by Kebechet closed/rejected</p></td>
<td><p></p></td>
<td><p>Product Owner</p></td>
<td><p>Github (collected by mi)</p></td>
</tr>
<tr class="row-odd"><td><p>Failed Kebechet service delivered percentage (thoth adviser)</p></td>
<td><p></p></td>
<td><p>(Number of PR closed/rejected  by Kebechet ÷ Number of PR opened by Kebechet) * 100</p></td>
<td><p>Product Owner</p></td>
<td><p>Ceph (processed by mi)</p></td>
</tr>
<tr class="row-even"><td><p>Number of PR opened by Kebechet per manager (thoth adviser) per type of PR</p></td>
<td><p>Total number of PR opened by Kebechet for specific reasons (e.g. CVE update, new package release)</p></td>
<td><p></p></td>
<td><p>Product Owner</p></td>
<td><p>Github (collected by mi)</p></td>
</tr>
<tr class="row-odd"><td><p>Number of PR merged by Kebechet per manager (thoth adviser) per type of PR</p></td>
<td><p>Total number of PR merged by Kebechet for specific reasons (e.g. CVE update, new package release)</p></td>
<td><p></p></td>
<td><p>Product Owner</p></td>
<td><p>Github (collected by mi)</p></td>
</tr>
<tr class="row-even"><td><p>Average time to merge Kebechet PRs (thoth adviser) per type of PR</p></td>
<td><p>Time taken to merge a PR opened by Kebechet</p></td>
<td><p></p></td>
<td><p>Product Owner</p></td>
<td><p>Ceph (processed by mi)</p></td>
</tr>
<tr class="row-odd"><td><p>Number of PR closed/rejected by Kebechet per manager (thoth adviser) per type of PR</p></td>
<td><p>Total number of PR closed/rejected by Kebechet closed/rejected for specific reasons (e.g. CVE update, new package release)</p></td>
<td><p></p></td>
<td><p>Product Owner</p></td>
<td><p>Github (collected by mi)</p></td>
</tr>
<tr class="row-even"><td><p>Time taken to review PRs</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>Analyst</p></td>
<td><p>Ceph (processed by mi)</p></td>
</tr>
<tr class="row-odd"><td><p>Average time taken by Kebechet workflow</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>Operations</p></td>
<td><p>Argo Workflow Controller</p></td>
</tr>
<tr class="row-even"><td><p>Average time taken by Adviser workflow task</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>Operations</p></td>
<td><p>Argo Workflow Controller</p></td>
</tr>
<tr class="row-odd"><td><p>Average time taken by Kebechet run results workflow task (in adviser)</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>Operations</p></td>
<td><p>Argo Workflow Controller</p></td>
</tr>
<tr class="row-even"><td><p>Percentage of adviser requests scheduled respected to requested</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>Operations</p></td>
<td><p>Ceph (processed by advise-reporter)</p></td>
</tr>
<tr class="row-odd"><td><p>Percentage of adviser requests from Kebechet succeeded</p></td>
<td><p></p></td>
<td><p>number of successful adviser per source_type=KEBECHET</p></td>
<td><p>Operations</p></td>
<td><p>Ceph (processed by advise-reporter)</p></td>
</tr>
<tr class="row-even"><td><p>Percentage of adviser requests from Kebechet failed</p></td>
<td><p></p></td>
<td><p>number of failed adviser per source_type=KEBECHET</p></td>
<td><p>Operations</p></td>
<td><p>Ceph (processed by advise-reporter)</p></td>
</tr>
<tr class="row-odd"><td><p>Number of Kafka messages sent per internal trigger to schedule Kebechet administrator</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>Operations</p></td>
<td><p>Kafka producers (e.g. package-release)</p></td>
</tr>
<tr class="row-even"><td><p>Number of Kebechet workflows scheduled by workflow-controller</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>Operations</p></td>
<td><p>Thoth investigator (Kafka consumer)</p></td>
</tr>
</tbody>
</table>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./examples/kebechet"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="tooling.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Tooling</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="accessing_metrics.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Accessing and Analyzing Metrics</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By AICoE<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>